<html>

<head>
    {% load static %}
    <title>
        AnimaSuki
    </title>
    <link rel="apple-touch-icon" sizes="180x180" href="{% static " ico\apple-touch-icon.png" %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static " ico\favicon-32x32.png" %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static " ico\favicon-16x16.png" %}">
    <link rel="manifest" href="{% static " ico\site.webmanifest" %}">
    <link rel="stylesheet" href="{% static 'css/index.css'%}">
</head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Hachi+Maru+Pop&family=Mochiy+Pop+One&display=swap"
    rel="stylesheet">

<body>
    <center>
        <div id="navbar">
            <a href={% url 'home' %}><span id="name-header"><span style="color: #ffd166;">Anime</span>見る</span></a>
            <input id="input-box" placeholder="Search Anime">
            <button id="search-button"><i class="fa-solid fa-magnifying-glass"></i></button>
        </div>
        <div id="container">
        </div>

        <div id="anime-whole-div">
            <div id="title-div">
                <table id="title-table">
                    <tr>
                        <td>Romaji:</td>
                        <td><span id="anime-title">{{anime_data.title}}</span></td>
                    </tr>
                    <tr>
                        <td>Japanese:</td>
                        <td>
                            {% if anime_data.title_japanese %}
                            <span id="anime-title-jap">{{anime_data.title_japanese}}</span>
                            {% else %}
                            <span id="anime-title-jap">N/A</span>
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <td>English:</td>
                        <td>
                            {% if anime_data.title_english %}
                            <span id="anime-title-eng">{{anime_data.title_english}}</span>
                            {% else %}
                            <span id="anime-title-eng">N/A</span>
                            {% endif %}
                        </td>
                    </tr>
                </table>
                <div id="genre-div">
                    {% for genre in anime_data.genres %}
                    <span class="genre-sub-div">{{genre.name}}</span>
                    {% endfor %}
                </div>
            </div>
            <div id="anime-outermost-details-div">
                <div id="anime-details-main-div">
                    <div id="carousel">
                        <i class="fa-solid fa-chevron-left" id="carousel-left-button"></i>
                        <div id="image-container">
                            <div id="main-image-div">
                                <img src={{anime_data.images.jpg.image_url}} id="main-image">
                            </div>
                            {% for picture in anime_data.pictures %}
                            <div class="image-div">
                                <img src={{anime_data.images.jpg.image_url}} class="anime-image">
                            </div>
                            {% endfor %}
                        </div>
                        <i class="fa-solid fa-chevron-right" id="carousel-right-button"></i>
                    </div>
                    <div id="anime-stats-trailer-div">
                        <div id="anime-stats-div">
                            <h1 id="stats-header">Statistics</h1>
                            <table id="anime-stats-table">
                                <tr>
                                    <td>Score:</td>
                                    <td><i class="fa-solid fa-star" style="color:gold"></i>&nbsp;{{anime_data.mean}}
                                        ({{anime_data.score}})</td>
                                </tr>
                                <tr>
                                    <td>Popularity:</td>
                                    <td><i class="fa-solid fa-heart"
                                            style="color:red"></i>&nbsp;{{anime_data.popularity}}</td>
                                </tr>
                                <tr>
                                    <td>Rank:</td>
                                    <td><i class="fa-solid fa-chart-simple"
                                            style="color:lightgreen"></i>&nbsp;{{anime_data.rank}}</td>
                                </tr>
                                <tr>
                                    <td>Favorite:</td>
                                    <td><i class="fa-solid fa-bookmark"
                                            style="color:green"></i>&nbsp;{{anime_data.favorites}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="anime-details-div">
                        <h1 id="info-header">Information</h1>
                        <table id="anime-info-table">
                            <tr>
                                <td>Type:</td>
                                <td><i class="fa-solid fa-photo-film"></i>&nbsp;{{anime_data.type}}</td>
                            </tr>
                            <tr>
                                <td>Rating:</td>
                                <td><i class="fa-solid fa-circle-exclamation"></i>&nbsp;{{anime_data.rating}}</td>
                            </tr>
                            <tr>
                                <td>Episodes:</td>
                                <td><i class="fa-solid fa-tv"></i>&nbsp;{{anime_data.episodes}}</td>
                            </tr>
                            <tr>
                                <td>Duration:</td>
                                <td><i class="fa-regular fa-clock"></i>&nbsp;{{anime_data.duration}} min</td>
                            </tr>
                            <tr>
                                <td>Broadcast:</td>
                                <td><i class="fa-solid fa-tower-broadcast"></i>&nbsp;{{anime_data.broadcast.string}}
                                </td>
                            </tr>
                            <tr>
                                <td>Status:</td>
                                <td><i class="fa-solid fa-bars-progress"></i>&nbsp;{{anime_data.status}}</td>
                            </tr>
                            <tr>
                                <td>Source:</td>
                                <td><i class="fa-brands fa-sourcetree"></i>&nbsp;{{anime_data.source}}</td>
                            </tr>
                            <tr>
                                <td>Studios:</td>
                                <td><i class="fa-solid fa-building"></i>
                                    {% for studio in anime_data.studios %}
                                    {{studio.name}}
                                    {% endfor %}
                                </td>
                            </tr>
                            <tr>
                                <td>Season:</td>
                                <td><i class="fa-regular fa-calendar"></i>&nbsp;{{anime_data.season}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div id="synopsis-div">
                    <h1 id="synopsis-header">Synopsis</h1>
                    <p>{{anime_data.synopsis}}</p>
                </div>
                <div class="header-and-buttons">
                    <h1 id="popular-anime-header"><i class="fa-solid fa-fire" style="color: red"></i>&nbsp;&nbsp;Related Animes
                    </h1>
                    <div class="scroll-buttons">
                        <button class="scroll-buttons" id="previous-popular-anime"><i
                                class="fa-solid fa-arrow-left"></i></button>
                        <button class="scroll-buttons" id="next-popular-anime"><i
                                class="fa-solid fa-arrow-right"></i></button>
                    </div>
                </div>
                <div id="popular-anime-container">
                    {% for recommendation in recommendation %}
                    <a href="anime/id={{ recommendation.entry.mal_id }}" class="anime-card-links">
                        <div class="anime-cards">
                            <img src="{{ recommendation.entry.images.jpg.image_url }}" class="image"
                                alt="{{ recommendation.entry.title }}">
                            <p class="anime-title">{{ recommendation.entry.title }}</p>
                            <table class="airing-now-details-table">
                                <tr>
                                    <td>
                                        <i class="fa-solid fa-star" style="color: gold"></i>&nbsp;
                                        {{ recommendation.score|default:"N/A" }}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </a>
                    {% empty %}
                    <p>No airing anime data available.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </center>
</body>
<script src={% static 'js/anime-view.js' %}></script>

</html>